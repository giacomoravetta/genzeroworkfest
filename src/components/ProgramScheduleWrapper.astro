---
import ProgramSchedule from "./ProgramSchedule.svelte";
import { getProgramData } from "../lib/notion";

const { env } = Astro.locals.runtime;
const notionApiKeyDev = import.meta.env.NOTION_API_KEY;
const notionDatabaseIdDev = import.meta.env.NOTION_API_KEY;

const notionApiKey = env?.NOTION_API_KEY || notionApiKeyDev;
const notionDatabaseId = env?.NOTION_DATABASE_ID || notionDatabaseIdDev;

const data = await getProgramData(notionApiKey, notionDatabaseId);
---

<section
    class="relative flex flex-col justify-center items-start w-full h-auto px-4 sm:px-6 lg:px-40 pt-8 sm:pt-12 lg:pt-16"
>
</section>
<ProgramSchedule
    client:only="svelte"
    {data}
    {notionApiKey}
    {notionDatabaseId}
/>
